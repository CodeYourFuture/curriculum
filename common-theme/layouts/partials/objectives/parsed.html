{{ $response := resources.GetRemote .blockData.api .blockData.headers }}
{{ $showTitle := .showTitle |default false }}
{{/* 404s lead to GetRemote returning nil rather than an error. */}}
{{ if eq $response nil }}
  {{ errorf "Couldn't find anything at %s" .blockData.api }}
{{ end }}

{{ with $response }}
  {{ $response := .Content | unmarshal }}

  {{ $decodedContent := $response.content | base64Decode }}

  {{ $extractedObjectives := partial "strings/extract-github-objectives.html" $decodedContent }}
  {{ if gt (len $extractedObjectives) 0 }}
    {{ if $showTitle }}<h5>{{ $showTitle }}</h5>{{ end }}
    {{ range $extractedObjectives }}
      {{ . | markdownify }}
    {{ end }}
  {{ end }}
{{ end }}
