{{ with .Params.map }}
  <div class="c-map">
    <h1 class="e-heading c-map__start is-none--lt-container">ğŸ‘‰ğŸ¾</h1>
    {{ range $menu := . }}
      <section class="c-map__block">
        <h2 class="e-heading c-map__title">
          ğŸ“:
          {{ $menu }}
        </h2>
        <ol class="c-map__timeline">
          {{/* Range over the courses stored in /data/courses */}}
          {{ $counter := 0 }}
          {{ range $index, $course:= (sort $.Site.Data.courses "weight" "asc") }}
            {{ $counter =  add $counter 1 }}
            {{ if eq $course.menu $menu }}
              <li
                class="c-map__stop"
                style="--layer:{{ sub (len $.Site.Data.courses) $counter }}">
                <a class="c-card" href="{{ .url }}">
                  <h3 class="c-card__title">{{ $course.name }}</h3>
                  <span class="c-card__meta"
                    >{{ div (int .days) 7 }} weeks,
                    {{ $course.commitment }}</span
                  >
                  {{ with .description }}
                    <p class="c-card__description">
                      {{ . }}
                      <span class="c-card__cta e-button">Learn more</span>
                    </p>
                  {{ end }}
                  <!-- Display emoji -->
                  <div class="c-card__image">
                    {{ $course.emoji | default "ğŸ¤–" }}
                  </div>
                </a>
              </li>
            {{ end }}
          {{ end }}
        </ol>
      </section>
    {{ end }}
  </div>
{{ end }}
