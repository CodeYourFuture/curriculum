# this config inherits from common-theme/hugo.toml
# if you mount org-cyf-theme you inherit both configs in cascade

title = "CYF Courses"
baseURL = "https://curriculum.codeyourfuture.io/"

[module]
# MODULE MOUNTS this is how we inherit the layout code and shared content
  [[module.imports]]
    path = "github.com/CodeYourFuture/curriculum/common-theme" 
  [[module.imports]]
    path = "github.com/CodeYourFuture/curriculum/common-content" 
    [[module.imports.mounts]]
      source = "en"
      target = "content"


[taxonomies]
# Taxonomies common to CYF sites
  activity = 'activities'

# Default menus     
[menus]
    [[menus.secondary]]
        name = "üëàüèæ Our Programme"
        weight = 1
        url = "https://curriculum.codeyourfuture.io/"
     [[menus.secondary]]
        name = "üëãüèø Join Us"
        weight = 2
        url = "https://codeyourfuture.io/volunteers/"
    [[menus.secondary]]
        name = "ü´∂üèº Support Us"
        weight = 3
        url = "https://codeyourfuture.io/donate/"

[page]
  nextPrevInSectionSortOrder = 'asc'
  nextPrevSortOrder = 'asc'

[params]
# Our default custom params eg where our stuff is and what it is called
description = "A free and open source software development programme."
main_website = "https://codeyourfuture.io/"
main_org_name = "Code Your Future"
our_name="CYF"
owner = "CodeYourFuture"
org = "https://github.com/CodeYourFuture"
repo = "https://github.com/CodeYourFuture/curriculum/"
pdrepo = "CYF-PD"
root = "curriculum"
googleFonts="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap"

# We use a proxy which concatenates paginated responses, otherwise we miss results.
# Daniel is currently hosting this code https://github.com/illicitonion/github-issue-proxy but we should work out a long-term maintainable solution to this problem.
# The /cached/120 path prefix here caches results for 2 hours to avoid rate limits. Drop the /cached/120 if you need fresh results.
orgapi = "https://github-issue-proxy.illicitonion.com/cached/120/repos/CodeYourFuture/"

[caches.getresource]
# Disable caching of fetches - we want every build to get up to date content for issues, so that if people make clarifications or fixes to issues, we pick them up.
maxAge = 0

[security.funcs]
# Allow accessing a GitHub bearer token to avoid rate limits when doing HTTP fetches to the GitHub API.
# This can be generated at https://github.com/settings/tokens?type=beta and needs read-only access to all public CYF GitHub repos.
getenv = ["^HUGO_CURRICULUM_GITHUB_BEARER_TOKEN$"]
